---
title: 'A tiny {shiny} flag challenge'
author: Matt Dray
date: '2021-03-02'
slug: randoflag
categories:
  - app
  - code
tags:
  - bslib
  - r
  - shiny
  - shinyjs
draft: yes
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div class="figure">
<img src="/post/2021-03-01-randoflag_files/guadeloupe.png" alt="App interface showing a flag and two buttons saying 'reveal' and refresh'; it says 'Guadeloupe' under the 'reveal' button." width="50%"/>
<p class="caption">
I was thrown for a Guadeloupe by this one.
</p>
</div>
<div id="tldr" class="section level1">
<h1>tl;dr</h1>
<p>I wrote <a href="https://github.com/matt-dray/randoflag">a little Shiny app</a> to serve me a flag challenge whenever I open a new browser tab.</p>
</div>
<div id="vexatious-request" class="section level1">
<h1>Vexatious request</h1>
<p>My browser tabs open with <a href="https://www.thiscatdoesnotexist.com/">thiscatdoesnotexist.com</a>, which serves me a terrifying ersatz ‘cat’, as hallucinated by a <a href="https://en.wikipedia.org/wiki/Generative_adversarial_network">GAN</a>. It’s kind of terrifying and time for a change.</p>
<p>Learning is fun and flags are too. My needs were simple: open a browser tab, show a mystery flag, reveal who it belongs to, refresh.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>R makes this quite straightforward with the Shiny framework.</p>
</div>
<div id="hoisting-the-app" class="section level1">
<h1>Hoisting the app</h1>
<p>The app is currently <a href="https://www.mattdray.shinyapps.io/randoflag/">available online</a> and I’ve embedded it below.</p>
<iframe src="https://mattdray.shinyapps.io/randoflag/" width="364" height="538" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
<p>I’ll probably take the app down at some point. Regardless, you can run the app from an R session at any point by executing the following:</p>
<pre class="r"><code>shiny::runGitHub(
  repo = &quot;randoflag&quot;, 
  username = &quot;matt-dray&quot;,
  ref = &quot;main&quot;
)</code></pre>
<p>The app uses a few R packages that you’ll need to install:</p>
<ul>
<li><a href="https://shiny.rstudio.com/">{shiny}</a> for the app framework</li>
<li><a href="https://rstudio.github.io/bslib/">{bslib}</a> for easy, tweakable theming</li>
<li><a href="https://github.com/hadley/emo">{emo}</a> for the emoji flags</li>
<li><a href="https://deanattali.com/shinyjs/">{shinyjs}</a> for its helpful <code>refresh()</code> implementation</li>
</ul>
<hr />
<details>
<summary>
Session info
</summary>
<pre><code>## ─ Session info ───────────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 4.0.2 (2020-06-22)
##  os       macOS  10.16                
##  system   x86_64, darwin17.0          
##  ui       X11                         
##  language (EN)                        
##  collate  en_GB.UTF-8                 
##  ctype    en_GB.UTF-8                 
##  tz       Europe/London               
##  date     2021-03-02                  
## 
## ─ Packages ───────────────────────────────────────────────────────────────────
##  package     * version    date       lib source                            
##  assertthat    0.2.1      2019-03-21 [1] CRAN (R 4.0.0)                    
##  blogdown      0.21       2020-10-11 [1] CRAN (R 4.0.2)                    
##  bookdown      0.21       2020-10-13 [1] CRAN (R 4.0.2)                    
##  cli           2.3.0      2021-01-31 [1] CRAN (R 4.0.2)                    
##  digest        0.6.27     2020-10-24 [1] CRAN (R 4.0.2)                    
##  evaluate      0.14       2019-05-28 [1] CRAN (R 4.0.0)                    
##  glue          1.4.2      2020-08-27 [1] CRAN (R 4.0.2)                    
##  htmltools     0.5.1.9000 2021-01-17 [1] Github (rstudio/htmltools@11cfbf3)
##  knitr         1.31       2021-01-27 [1] CRAN (R 4.0.2)                    
##  magrittr      2.0.1      2020-11-17 [1] CRAN (R 4.0.2)                    
##  rlang         0.4.10     2020-12-30 [1] CRAN (R 4.0.2)                    
##  rmarkdown     2.6        2020-12-14 [1] CRAN (R 4.0.2)                    
##  sessioninfo   1.1.1      2018-11-05 [1] CRAN (R 4.0.0)                    
##  stringi       1.5.3      2020-09-09 [1] CRAN (R 4.0.2)                    
##  stringr       1.4.0      2019-02-10 [1] CRAN (R 4.0.0)                    
##  withr         2.4.1      2021-01-26 [1] CRAN (R 4.0.2)                    
##  xfun          0.21       2021-02-10 [1] CRAN (R 4.0.2)                    
##  yaml          2.2.1      2020-02-01 [1] CRAN (R 4.0.0)                    
## 
## [1] /Library/Frameworks/R.framework/Versions/4.0/Resources/library</code></pre>
</details>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>See <a href="https://www.sporcle.com/games/g/worldflags?sc=flags">Sporcle</a> if you want an actual quiz.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
