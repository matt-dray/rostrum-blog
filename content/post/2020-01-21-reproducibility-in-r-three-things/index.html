---
title: 'Reproducibility in R: three things'
author: Matt Dray
date: '2020-01-22'
slug: repro-three-things
categories:
  - code
  - talk
tags:
  - drake
  - r
  - rap
  - reproducibility
  - rmarkdown
draft: no
---



<div class="figure">
<img src="/post/2020-01-21-reproducibility-in-r-three-things_files/trex.gif" alt="A T rex in sunglasses with the text 'works on my machine'." width=80%/>
<p class="caption">
Avoid being this guy (<a href="https://twitter.com/threddyrex" target="_blank">Threddy the T. rex</a> via <a href="https://giphy.com/gifs/threddy-works-on-my-machine-not-a-bug-hQiyolNu6eF2xvq6zH" target="_blank">Giphy</a>)
</p>
</div>
<div id="reproducevangelism" class="section level1">
<h1>Reproducevangelism</h1>
<p>I spoke at the <a href="https://www.gov.uk/government/organisations/department-for-education" target="_blank">Department for Education</a>’s Data Science Week. I wanted everyone – newer and more experienced users alike – to learn at least one new thing about reproduciblity with R and RStudio.</p>
<p>The slides are embedded below and you can also <a href="https://matt-dray.github.io/reproducibility-ds-week/#1" target="_blank">get them fullscreen online</a> (press ‘F’ for fullscreen and ‘P’ for presenter notes) and find <a href="https://github.com/matt-dray/reproducibility-ds-week" target="_blank">the source on GitHub</a>.</p>
<iframe src="https://matt-dray.github.io/reproducibility-ds-week/" width="700" height="525" frameborder="1" allowtransparency="true" allow="encrypted-media">
</iframe>
</div>
<div id="three-things" class="section level1">
<h1>Three things</h1>
<p>The three things to achieve reproducibility were very broad. I focused on R and some specific packages that could be helpful, but the ideas are transferable and there’s lots of ways to achieve the same thing.</p>
<p>The things were:</p>
<div id="centralise-everything" class="section level2">
<h2>1. Centralise everything</h2>
<p>Get code, functions, data, documentation in one place. Use <a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects">R Projects</a> in RStudio and <a href="https://www.hvitfeldt.me/blog/usethis-workflow-for-package-development/">write packages</a>. This makes code more shareable and improves the chance that others can recreate things on their machine.</p>
</div>
<div id="report-with-code" class="section level2">
<h2>2. Report with code</h2>
<p>Put code inside your report so that updates to data and code will be reflected instantly. Use <a href="https://rmarkdown.rstudio.com/">R Markdown</a> and other formats like Yihui Xie’s <a href="https://slides.yihui.org/xaringan/#1">{xaringan}</a> for reproducible slides and <a href="https://bookdown.org/yihui/bookdown/">{bookdown}</a> by for reproducible books.</p>
</div>
<div id="manage-workflows" class="section level2">
<h2>3. Manage workflows</h2>
<p>Don’t use your brain to store information about the dependencies within your analysis. Use <a href="https://docs.ropensci.org/drake/">{drake}</a> by Will Landau instead. It remembers all the relationships between the files, objects and fcuntions in your analysis and only re-runs what needs to be re-run following changes.</p>
</div>
</div>
<div id="acknowledgements" class="section level1">
<h1>Acknowledgements</h1>
<p>I keep referring to the same resources about reproducibility. Take a look at:</p>
<ul>
<li><a href="https://ukgovdatascience.github.io/rap-website/" target="_blank">Reproducible Analytical Pipelines</a> (RAP), a UK government initiative to make publications more reproducible</li>
<li><a href="https://the-turing-way.netlify.com/introduction/introduction" target="_blank">The Turing Way</a>, a book about reproducibility from <a href="https://www.turing.ac.uk/" target="_blank">the Alan Turing Institute</a></li>
<li><a href="https://annakrystalli.me/talks/r-in-repro-research-dc.html#1" target="_blank">Putting the R into reproducible research</a>, some excellent and comprehensive slides by <a href="http://www.annakrystalli.com/" target="_blank">Anna Krystalli</a></li>
</ul>
</div>
<div id="on-this-blog" class="section level1">
<h1>On this blog</h1>
<p>Relevant rostrum.blog reproduciblity-related writings:</p>
<ul>
<li><a href="https://www.rostrum.blog/2019/11/01/usethis/">Build an R package with {usethis}</a></li>
<li><a href="https://www.rostrum.blog/2019/10/21/git-github/">Git going: Git and GitHub</a></li>
<li><a href="https://www.rostrum.blog/2019/07/23/can-drake-rap/">Can {drake} RAP?</a></li>
<li><a href="https://www.rostrum.blog/2019/06/11/r-repo-template/">A GitHub repo template for R analysis</a></li>
<li><a href="https://www.rostrum.blog/2018/09/24/knitting-club/">Knitting Club: R Markdown for beginners</a></li>
</ul>
</div>
