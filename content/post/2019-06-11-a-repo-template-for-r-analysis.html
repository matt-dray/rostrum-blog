---
title: A repo template for R analyses
author: Matt Dray
date: '2019-06-11'
slug: r-repo-template
categories:
  - R
tags:
  - template
  - github
  - repo
draft: yes
---



<div class="figure">
<img src="/post/2019-06-11-a-repo-template-for-r-analysis_files/use-this.png" alt="‘Use this template’ green button" />
<p class="caption">‘Use this template’ green button</p>
</div>
<div id="repo-templates" class="section level1">
<h1>Repo templates</h1>
<p>GitHub has introduced <a href="https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/?utm_campaign=1559837005&amp;utm_medium=social&amp;utm_source=twitter&amp;utm_content=1559837005">repository templates</a> to make it easier to share frequently-used repo structures and boilerplate code. You can copy a whole repo as many times as you like, unlike forks.</p>
</div>
<div id="a-repo-for-r-analysis" class="section level1">
<h1>A repo for R analysis</h1>
<p><a href="https://github.com/matt-dray/r-analysis-template/">I’ve made an extremely lightweight repo template</a> to make it easier to start a very simple R analysis project. It’s opinionated, but others may find it useful.</p>
<p>To use it, either:</p>
<ol style="list-style-type: decimal">
<li><a href="https://github.com/matt-dray/r-analysis-template/">Go to the repo</a> and click the green ‘use this template button’</li>
<li><a href="https://github.com/matt-dray/r-analysis-template/generate">Append the repo URL with ‘/generate’</a> to go straight to the repo copying page</li>
</ol>
<div class="figure">
<img src="/post/2019-06-11-a-repo-template-for-r-analysis_files/copy-repo.png" alt="A GitHub page for creating a repository from the template" />
<p class="caption">A GitHub page for creating a repository from the template</p>
</div>
<p>Much of the sentiment for this sort of repo structure has been described in detail elsewhere, including by <a href="https://nicercode.github.io/blog/2013-04-05-projects/">Richard Fitzjohn</a> and <a href="http://blog.jom.link/implementation_basic_reproductible_workflow.html">Joris Muller</a>.</p>
</div>
<div id="alternatives" class="section level1">
<h1>Alternatives</h1>
<p>Another excellent way of starting this kind of repo is via a package, like <a href="https://github.com/lockedata/starters">{starters}</a>. The <code>create_analysis_project()</code> sets up a project folder for you with various arguments to add certain folders and setup things like dependency management, git and continuous integration.</p>
<p>Another option is to set up your analysis as a package and use Jenny Bryan and Hadley Wickham’s <a href="https://usethis.r-lib.org/">{usethis}</a> to add what you need.</p>
</div>
<div id="basic-structure" class="section level1">
<h1>Basic structure</h1>
<p>In short, the root has:</p>
<ul>
<li>executable R files, separated into sensible units of analysis</li>
<li>an R Project file (<code>.Rproj</code>)</li>
<li>.gitignore template (includes <code>.DS_Store</code>!)</li>
<li>a <code>README.md</code> to summarise the project as a whole</li>
</ul>
<p>There are folders for:</p>
<ul>
<li>R functions (<code>R/</code>)</li>
<li>raw, untouched, read-only data sets (<code>data/</code>)</li>
<li>report source and output files (<code>doc/</code>)</li>
<li>external files (<code>ext/</code>), such as pre-trained models</li>
</ul>
<p>It’s not enough to have structure alone. There are plenty of guides for code and file creation. For example:</p>
<ul>
<li>files should be named appropriately (<a href="https://speakerdeck.com/jennybc/how-to-name-files">advice from Jenny Bryan</a>)</li>
<li>code should be consistent and follow a style guide (e.g. <a href="https://style.tidyverse.org/">the tidyverse style guide</a>), or perhaps a linter should be used (e.g. <a href="https://github.com/jimhester/lintr">{lintr}</a>)</li>
<li>READMEs are provided throughout, but documentation should continue in the analysis files themselves, with copious use of comments</li>
</ul>
<p>Here’s roughly what it will look like:</p>
<pre><code>r-analysis-template/
├── R
|   ├── functions.R
|   ├── more-functions.R
|   └── README.md
├── data
|   ├── raw-data.csv
|   ├── more-raw-data.xlsx
|   └── README.md
├── doc
|   ├── rmarkdown-report.Rmd
|   ├── rmarkdown-report.pdf
|   ├── rmarkdown-report.html
|   └── README.md
├── ext
|   ├── .csv
|   └── README.md
├── output
|   ├── cleaned-data.rds
|   ├── model-object.rds
|   ├── some-plot.png
|   └── README.md
├── .gitignore
├── 10_read.R
├── 20_tidy.R
├── 30_model.R
├── LICENSE
├── README.md
└── .Rproj</code></pre>
</div>
