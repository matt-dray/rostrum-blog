---
title: 'A tiny {shiny} flag challenge'
author: Matt Dray
date: '2021-03-02'
slug: randoflag
categories:
  - app
  - code
tags:
  - bslib
  - r
  - shiny
  - shinyjs
draft: yes
---

<div class="figure">
<img src="/post/2021-03-01-randoflag_files/guadeloupe.png" alt="App interface showing a flag and two buttons saying 'reveal' and refresh'; it says 'Guadeloupe' under the 'reveal' button." width="50%"/>
<p class="caption">I was thrown for a Guadeloupe by this one.</p>
</div>

# tl;dr

I wrote [a little Shiny app](https://github.com/matt-dray/randoflag) to serve me a flag challenge whenever I open a new browser tab.

# Vexatious request

My browser tabs open with [thiscatdoesnotexist.com](https://www.thiscatdoesnotexist.com/), which serves me a terrifying ersatz 'cat', as hallucinated by a [GAN](https://en.wikipedia.org/wiki/Generative_adversarial_network). It's kind of terrifying and time for a change.

Learning is fun and flags are too. My needs were simple: open a browser tab, show a mystery flag, reveal who it belongs to, refresh.[^spork] 

R makes this quite straightforward with the Shiny framework.

# Hoisting the app

The app is currently [available online](https://www.mattdray.shinyapps.io/randoflag/) and I've embedded it below.

<iframe src="https://mattdray.shinyapps.io/randoflag/" width="364" height="538" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>

I'll probably take the app down at some point. Regardless, you can run the app from an R session at any point by executing the following:

```{r eval=FALSE}
shiny::runGitHub(
  repo = "randoflag", 
  username = "matt-dray",
  ref = "main"
)
```

The app uses a few R packages that you'll need to install:

* [{shiny}](https://shiny.rstudio.com/) for the app framework
* [{bslib}](https://rstudio.github.io/bslib/) for easy, tweakable theming
* [{emo}](https://github.com/hadley/emo) for the emoji flags
* [{shinyjs}](https://deanattali.com/shinyjs/) for its helpful `refresh()` implementation

---
<details><summary>Session info</summary>
```{r sessioninfo, echo=FALSE}
sessioninfo::session_info()
```
</details>

[^spork]: See [Sporcle](https://www.sporcle.com/games/g/worldflags?sc=flags) if you want an actual quiz.