---
title: "Two RStudio Addins: {quartostamp} and {snorkel}"
author: 'Matt Dray'
date: '2022-08-11'
slug: quartostamp-snorkel
categories:
  - code
  - package
tags:
  - r
  - rstudio-addin
  - quartostamp
  - snorkel
draft: no
---

# tl;dr 

I made two packages recently(ish) that contain RStudio Addins: [{quartostamp}](https://matt-dray.github.io/quartostamp/) inserts little divs and classes into your [Quarto](https://quarto.org/) documents, while [{snorkel}](https://github.com/matt-dray/snorkel) inserts [{roxygen2}](https://roxygen2.r-lib.org/) tags to your package-function documentation.

# Al Addin

You can access R functions interactively at the click of a button (or map them to a keyboard shortcut) with [RStudio Addins](https://rstudio.github.io/rstudioaddins/). I particularly like them for easy sharing of insertable pre-written code.

See [Dean Attali's {addinslist} package](https://github.com/daattali/addinslist) for examples or the [{shrtcts} package by Garrick Aden-Buie](https://pkg.garrickadenbuie.com/shrtcts/) for an alternative approach to 'make anything an RStudio shortcut'.

On my part:

* I [wrote about](https://www.rostrum.blog/2022/02/19/backtick/) the little [{backtick} Addin package](https://github.com/matt-dray/backtick) that inserts backticks (\`) and backtick constructions[^italy]
* I [wrote about](https://www.rostrum.blog/2020/11/14/hello-r2eng/) the [{r2eng} package](https://matt-dray.github.io/r2eng/), which has an Addin that lets you highlight some R code and then speak that expression out loud in English
* I [wrote about](https://www.rostrum.blog/2019/10/22/blogsnip/) the [{blogsnip} Addin package](https://matt-dray.github.io/blogsnip/) that can manipulate code used to write this blog

RStudio Addins are [kinda straightforward to put together](https://www.rostrum.blog/2022/02/19/backtick/#add-your-own). In your R package, put your functions in the `R/` directory as usual, then write an `inst/rstudio/addins.dcf` file to declare them ([e.g. see {backtick}'s .dcf](https://github.com/matt-dray/backtick/blob/main/inst/rstudio/addins.dcf)). Learn more from [Sharon Machlis](https://www.infoworld.com/article/3336059/do-more-with-r-write-your-own-rstudio-addins.html) and [Jozef Hajnala](https://jozef.io/r101-addin-reproducibility/).

The user can then select the functions from the 'Addins' dropdown in the RStudio IDE.

Of late I've written two more packages---[{quartostamp}](https://matt-dray.github.io/quartostamp/) and [{snorkel}](https://github.com/matt-dray/snorkel)---that contain RStudio Addins to help me write code structures that I struggle to remember when writing [Quarto documents](https://quarto.org/) and [{roxygen2} tags](https://roxygen2.r-lib.org/index.html). 

Others seem to have found these useful, so I thought I'd 'officially' signal that they exist.

# {quartostamp}

<div class="figure">
<img src="/post/2022-08-10-more-addins_files/quartostamp.gif" alt="Screenshot of RStudio window with a Quarto presentation file open. Some functions are selected from an RStudio Addin under the name 'quartostamp'. They insert a div that allows for column layout, a div for speaker notes, and a class that makes the text smaller on a slide." width="100%"/>
</div>

[Quarto](https://quarto.org/) is all the rage right now, having been officially launched at [the recent rstudio::conf(2022) conference](https://www.rstudio.com/blog/four-announcements-from-rstudio-conf-2022/#use-quarto-for-creating-content-with-python-r-julia-and-observable).

It's like the new and trendier R Markdown that's more platform and language independent. All the more important as the RStudio company [(soon-to-be Posit)](https://www.rstudio.com/blog/rstudio-is-becoming-posit/) has embraced a wider audience than just R users.

People are going nuts for tools and techniques to learn and implement Quarto. A good place to begin is [the Awesome Quarto List](https://github.com/mcanouil/awesome-quarto) by Mickaël Canouil.

Featured there is [{quartostamp}](https://matt-dray.github.io/quartostamp/), a little R package I made that contains an RStudio Addin to insert into your Quarto doc a number of useful divs and classes. I'm going to continue expanding it as I have time, but do leave [an issue or pull request with ideas](https://www.github.com/matt-dray/quartostamp).

As the README has it:

>Why 'quartostamp'? You could physically stamp some pre-prepared type into [a literal quarto document](https://en.wikipedia.org/wiki/Quarto); you can digitally stamp some pre-written elements into your qmd file.

Install from GitHub like:

```{r eval=FALSE}
# install.packages("remotes")  # if not yet installed
remotes::install_github("matt-dray/quartostamp")
```

I made this primarily for myself; I'm really bad at remembering syntax. Quarto has many in-built divs and things that I struggle to remember.

So {quartostamp} acts as your brain outside your brain. For example, did you forget how to insert speaker notes into a presentation? Go to _Addins_ > _Insert Speaker Notes_ and this will be inserted to your doc:

```{r eval=FALSE}
::: {.notes}
Speaker notes go here.
:::
```

That's a straightforward one; a two-column layout is more complex. Go to _Addins_ > _Insert Column Layout_ and you get this:

```{r eval=FALSE}
:::: {.columns}

::: {.column width='40%'}
Left column
:::

::: {.column width='60%'}
Right column
:::

::::
```

Go to the package website to [see the current list of functions](https://matt-dray.github.io/quartostamp/reference/index.html) available in the Addin.

Basically, the functions in the Addin input Quarto elements [lifted from the docs](https://quarto.org/docs/reference/), so big shoutout to the authors JJ Allaire, Charles Teague, Carlos Scheidegger, Yihui Xie and Christophe Dervieux.

# {snorkel}

<div class="figure">
<img src="/post/2022-08-10-more-addins_files/snorkel.gif" alt="Gif of RStudio Addin being used to add roxygen2 tags to selected text in the documentation for a function. Addins used are: format as bold, link to function in another package, and make hyperlink." width="100%"/>
</div>

I made [{snorkel}](https://www.github.com/matt-dray/snorkel) a little while ago,[^announce] again to quench my need to store syntax outside of my brain.

In this case, to insert [{roxygen2} tags](https://roxygen2.r-lib.org/) to help with formatting in function documentation.[^md]

The reason for the name should be obvious.[^aqualung] As the package README puts it:

>You put a snorkel in your mouth to help you breathe oxygen; you put a {snorkel} in your addins to help you write with {roxygen2}.

Yes, this is package-name-driven development; I thought of the name before writing anything.

Install from GitHub like:

```{r eval=FALSE}
# install.packages("remotes")  # if not yet installed
remotes::install_github("matt-dray/snorkel")
```

So, how would you embolden a word in your function documentation? Highlight the word and then go to _Addins_ > _Format Bold_ and you get:

```{r eval=FALSE}
#' I am a \strong{bold} boy.
```

Here's something more complex: how can you link to a function in an external package? Write the package function in the form `package::function`, highlight it and then select _Addins_ > _Link To Function (Another Package)_ and you get:

```{r eval=FALSE}
#' When the crowd say 'Bo \code{\link[dplyr]{select}}a'.
```

Basically, the functions in the Addin insert {roxygen2} tags [lifted from the docs](https://roxygen2.r-lib.org/articles/formatting.html), so big shoutout to the authors Hadley Wickham, Peter Danenberg, Gabor Csárdi, Manuel Eugster and RStudio.

# Addin your suggestions

As ever, raise an issue or pull request in the GitHub repos for these packages ([here for {quartostamp}](https://www.github.com/matt-dray/quartostamp) and [here for {snorkel}](https://www.github.com/matt-dray/snorkel)) to submit an idea or add new functionality.

Don't be a cad, it would be maddenin' and saddenin' if you hadn't added in your Addin ideas, so be a rad chad and add your addins in the Addins.

---
<details><summary>Session info</summary>
```{r sessioninfo, echo=FALSE}
sessioninfo::session_info()
```
</details>

[^aqualung]: Although I still like {aqualung} as a package name.
[^announce]: I sort-of announced this in [the {backtick} post](https://www.rostrum.blog/2022/02/19/backtick/), but then [John Mackintosh](https://www.johnmackintosh.net/) signal-boosted it on Twitter and folks seemed interested, so here we are.
[^italy]: Italian keyboards [don't have a backtick](https://commons.wikimedia.org/wiki/File:Italian_Keyboard_layout.svg)?!
[^md]: But note that you can [write documentation with Markdown](https://roxygen2.r-lib.org/articles/markdown.html)! I may expand the package to cover this in future.
