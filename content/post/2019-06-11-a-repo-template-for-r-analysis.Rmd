---
title: A repo template for R analyses
author: Matt Dray
date: '2019-06-11'
slug: r-repo-template
categories:
  - R
tags:
  - template
  - github
  - repo
draft: yes
---

!['Use this template' green button](/post/2019-06-11-a-repo-template-for-r-analysis_files/use-this.png)

# Repo templates

GitHub has introduced [repository templates](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/?utm_campaign=1559837005&utm_medium=social&utm_source=twitter&utm_content=1559837005) to make it easier to share frequently-used repo structures and boilerplate code. You can copy a whole repo as many times as you like, unlike forks.

# A repo for R analysis

[I've made an extremely lightweight repo template](https://github.com/matt-dray/r-analysis-template/) to make it easier to start a very simple R analysis project. It's opinionated, but others may find it useful.

To use it, either:

1. [Go to the repo](https://github.com/matt-dray/r-analysis-template/) and click the green 'use this template button'
1. [Append the repo URL with '/generate'](https://github.com/matt-dray/r-analysis-template/generate) to go straight to the repo copying page

![A GitHub page for creating a repository from the template](/post/2019-06-11-a-repo-template-for-r-analysis_files/copy-repo.png)

Much of the sentiment for this sort of repo structure has been described in detail elsewhere, including by [Richard Fitzjohn](https://nicercode.github.io/blog/2013-04-05-projects/) and [Joris Muller](http://blog.jom.link/implementation_basic_reproductible_workflow.html).

# Alternatives

Another excellent way of starting this kind of repo is via a package, like [{starters}](https://github.com/lockedata/starters). The `create_analysis_project()` sets up a project folder for you with various arguments to add certain folders and setup things like dependency management, git and continuous integration.

Another option is to set up your analysis as a package and use Jenny Bryan and Hadley Wickham's [{usethis}](https://usethis.r-lib.org/) to add what you need.

# Basic structure

In short, the root has:

* executable R files, separated into sensible units of analysis
* an R Project file (`.Rproj`)
* .gitignore template (includes `.DS_Store`!)
* a `README.md` to summarise the project as a whole

There are folders for:

* R functions (`R/`)
* raw, untouched, read-only data sets (`data/`)
* report source and output files (`doc/`)
* external files (`ext/`), such as pre-trained models

It's not enough to have structure alone. There are plenty of guides for code and file creation. For example:

* files should be named appropriately ([advice from Jenny Bryan](https://speakerdeck.com/jennybc/how-to-name-files))
* code should be consistent and follow a style guide (e.g. [the tidyverse style guide](https://style.tidyverse.org/)), or perhaps a linter should be used (e.g. [{lintr}](https://github.com/jimhester/lintr))
* READMEs are provided throughout, but documentation should continue in the analysis files themselves, with copious use of comments

Here's roughly what it will look like:

```
r-analysis-template/
├── R
|   ├── functions.R
|   ├── more-functions.R
|   └── README.md
├── data
|   ├── raw-data.csv
|   ├── more-raw-data.xlsx
|   └── README.md
├── doc
|   ├── rmarkdown-report.Rmd
|   ├── rmarkdown-report.pdf
|   ├── rmarkdown-report.html
|   └── README.md
├── ext
|   ├── .csv
|   └── README.md
├── output
|   ├── cleaned-data.rds
|   ├── model-object.rds
|   ├── some-plot.png
|   └── README.md
├── .gitignore
├── 10_read.R
├── 20_tidy.R
├── 30_model.R
├── LICENSE
├── README.md
└── .Rproj
```