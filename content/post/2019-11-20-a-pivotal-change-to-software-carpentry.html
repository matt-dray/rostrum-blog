---
title: A pivotal change to Software Carpentry
author: Matt Dray
date: '2019-11-20'
slug: pivot
categories:
  - code
  - teaching
tags:
  - pivot
  - software carpentry
  - the carpentries
  - tidyr
draft: yes
---



<div id="instructor" class="section level1">
<h1>Instructor</h1>
<p>I passed <a href="https://carpentries.github.io/instructor-training/checkout/">the requirements</a> to become a <a href="https://software-carpentry.org/">Software Carpentry</a> trainer, which ‘teach[es] foundational coding and data science skills to researchers worldwide’ as part of <a href="https://carpentries.org/">The Carpentries</a> initiative.</p>
<p>I wrote about part of this experience in <a href="https://www.rostrum.blog/2019/09/12/live-code/">a post about live coding</a> (<a href="https://carpentries.org/blog/2019/09/live-coding-experience/">cross-posted on The Carpentries blog</a>). The ‘code-along’ format is an important part of the teaching approach for The Carpentries.</p>
</div>
<div id="contribution" class="section level1">
<h1>Contribution</h1>
<p>A great thing about the The Carpentries is that the lessons are openly available on GitHub.</p>
<p>One of the instructor assessment requirements is to make a contribution to develop the materials. This can be as simple as raising an issue on GitHub or offering a pull request (PR) to merge in new or amended content.</p>
<p>I made a <a href="https://github.com/swcarpentry/r-novice-gapminder/pull/569">trivial PR</a> to correct a small problem with bullet points, but I had <a href="https://github.com/swcarpentry/r-novice-gapminder/issues/570">a more substantial suggestion that I raised in in an issue</a>: to update the entire episode about <a href="https://tidyr.tidyverse.org/">{tidyr}</a>, a <a href="https://www.tidyverse.org/">tidyverse</a> package used for reshaping data frames.</p>
</div>
<div id="pivot" class="section level1">
<h1>Pivot</h1>
<p>Why? Since {tidyr} <a href="https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/">version 1.0.0</a>, the <code>pivot_longer()</code> and <code>pivot_wider()</code> functions have replaced the <code>spread()</code> and <code>gather()</code> functions. Their aim is to be more intuitive. Hadley Wickham, the package’s creator, has said that even he had to look up the syntax for <code>spread()</code> and <code>gather()</code> before using them.</p>
<p>What do these functions do? They switch data frames between ‘wide’ and ‘long’ forms form. For example, a long data set might have a column called ‘year’ and a column called ‘population’. A wide version would have separate columns named for each year (‘1994’, ‘1995’, etc) that each contained that year’s ‘population’ figures.</p>
<p>The <code>pivot_wider()</code> function spreads long data into wide form and <code>pivot_longer()</code> gathers the data into long form. See how the names are more intuitive? <a href="https://github.com/hadley/table-shapes">Hadley did a little poll</a> to see how people referred to these two table shapes and ‘wider’ and ‘longer’ were most popular.</p>
<p>Some helpful explainers on this topic are:</p>
<ul>
<li><a href="https://tidyr.tidyverse.org/dev/articles/pivot.html">the {tidyr} vignette about pivoting</a></li>
<li>Hiroaki Yutani’s <a href="https://speakerdeck.com/yutannihilation/a-graphical-introduction-to-tidyrs-pivot-star">slides</a> — ‘A graphical introduction to tide’s pivot_*()’</li>
<li>Bruno Rodrigues’s <a href="https://www.brodrigues.co/blog/2019-03-20-pivot/">blogpost</a> — ‘Pivoting data frames just got easier thanks to <code>pivot_wide()</code> and <code>pivot_long()</code>’</li>
<li>Sharon Machlis’s <a href="https://youtu.be/gnUgSkKEW5c">video</a> — ‘How to reshape data with tidyr’s new pivot functions’</li>
<li>Gavin Simpson’s <a href="https://www.fromthebottomoftheheap.net/2019/10/25/pivoting-tidily/">blog</a> — ‘Pivoting tidily’ (a real-world problem)</li>
</ul>
</div>
<div id="re-writing-the-episode" class="section level1">
<h1>Re-writing the episode</h1>
<p>So was this as simple as finding and replacing <code>spread()</code> with <code>pivot_longer()</code> and <code>gather()</code> with <code>pivot_wider()</code>?</p>
<p>No.</p>
</div>
