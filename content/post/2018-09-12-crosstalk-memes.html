---
title: 'EARL 2018: Crosstalk in memes'
author: Matt Dray
date: '2018-09-12'
slug: crosstalk-memes
categories:
  - R
  - events
tags:
  - crosstalk
  - memes
  - xaringan
  - conference
  - presentation
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/d3/d3.min.js"></script>
<link href="/rmarkdown-libs/d3scatter/d3scatter.css" rel="stylesheet" />
<script src="/rmarkdown-libs/d3scatter/d3scatter.js"></script>
<script src="/rmarkdown-libs/d3scatter-binding/d3scatter.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>
<link href="/rmarkdown-libs/leaflet-easybutton/easy-button.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-easybutton/easy-button.js"></script>
<script src="/rmarkdown-libs/leaflet-easybutton/EasyButton-binding.js"></script>
<link href="/rmarkdown-libs/leaflet-locationfilter2/locationfilter.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-locationfilter2/locationfilter.js"></script>
<script src="/rmarkdown-libs/leaflet-locationfilter2/locationfilter-bindings.js"></script>
<link href="/rmarkdown-libs/ionicons/ionicons.min.css" rel="stylesheet" />


<p>Matt Dray</p>
<p><img src='https://raw.githubusercontent.com/matt-dray/earl18-presentation/master/memes/doge.jpg' alt='Doge meme'></p>
<div id="earl-2018" class="section level1">
<h1>EARL 2018</h1>
<p>I gave a talk called <a href="https://earlconf.com/2018/london/#matt-dray"><em>Crosstalk: Shiny-like without Shiny</em></a><a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> at the <a href="https://earlconf.com/2018/london/">EARL 2018 conference in London</a>.</p>
<p><a href="http://rstudio.github.io/crosstalk/">The <code>crosstalk</code> package</a> by <a href="https://twitter.com/jcheng?lang=en">Joe Cheng</a> allows <a href="https://www.htmlwidgets.org/">HTML widgets</a> – JavaScript visualisations wrapped in R code – to interact with each other. This can be done inside an <a href="https://rmarkdown.rstudio.com/">R Markdown</a> document (including <a href="https://rmarkdown.rstudio.com/flexdashboard/">Flexdashboard</a>) for easy server-less sharing in HTML format.</p>
</div>
<div id="crosstalk-in-action" class="section level1">
<h1>Crosstalk in action</h1>
<p>Below is a very simple example from <a href="http://rstudio.github.io/crosstalk/using.html">the Crosstalk documentation site</a>. Highlight points in the interactive plot (<code>d3scatter</code> package) and ‘brush’ points with the selection tool (button in upper left) on the interactive map (<code>leaflet</code> package) and see how selections in each impact each other. Without Crosstalk, selections in one of these widgets <em>would not</em> impact the others.</p>
<p><div id="htmlwidget-1" style="width:100%;height:300px;" class="d3scatter html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":{"x":[74,209,562,618,334,600,172,655,64,391,264,204,162,46,571,624,470,572,595,40,554,203,294,201,47,42,66,65,40,533,582,186,140,636,582,566,182,224,60,350,587,201,323,307,40,631,57,219,117,149,638,62,479,413,236,243,315,627,617,130,70,546,548,474,376,204,409,43,50,532,528,51,338,583,271,518,328,618,619,217,530,223,80,577,42,158,574,186,249,42,56,578,53,174,53,587,544,223,546,40],"y":[4.4,4.7,4.5,4.1,4.2,4.1,4.4,4.1,5.1,4,4.2,4.6,5.2,4.7,4.5,5.5,4.8,4.5,4.6,5.7,4.1,4.5,4.3,4.7,4.9,4.6,4.9,4.9,5.5,4.2,4.7,4.2,4.6,5,4.7,4.3,4.3,4.2,4.6,4.7,4.1,4.4,4.2,4.3,5.5,4.8,5.4,5.4,5.1,4.9,4.6,4.9,4.4,4.4,4.7,4.7,4.1,4.5,5,4.7,4.7,4.3,4.1,4.5,4.8,4.5,4.3,5.4,4.5,4,5,4.4,4.3,5.4,4.2,5.1,4.4,4.4,4.3,4.9,4.2,4.7,4.8,4.6,4.4,5,4.6,4.6,4.6,5.4,5,4.7,4.4,4.5,4.7,4.1,4.6,4.1,4.6,4.7],"key":["237","837","886","776","831","924","971","687","615","772","566","887","885","248","124","663","240","289","645","869","738","503","635","719","484","164","608","266","541","210","808","146","527","462","61","876","761","95","359","209","67","487","79","130","70","667","928","372","910","139","490","563","316","281","92","599","858","659","238","360","513","619","690","479","630","725","992","970","766","816","277","611","212","363","94","624","30","716","247","974","871","192","342","811","107","295","38","610","12","3","888","731","633","567","136","823","943","495","293","562"]},"color_spec":{"type":"constant","value":"#333333"},"color":null,"x_label":"depth","y_label":"mag","x_lim":null,"y_lim":null,"group":"SharedData553001be"},"evals":[],"jsHooks":[]}</script><div id="htmlwidget-2" style="width:100%;height:300px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addSelect","args":["SharedData553001be"]},{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-28.23,-17.38,-24.39,-21.77,-30.63,-18.4,-25.79,-18.89,-15.65,-16.4,-19.92,-19.64,-26.72,-15.5,-19.22,-18.14,-24.96,-18.07,-20.72,-21.14,-25.14,-21.06,-20.08,-18.35,-32.42,-35.56,-21.57,-26.17,-15.9,-20.2,-20.07,-20.1,-15.44,-18,-20.69,-18.94,-20.7,-15.44,-27.18,-30.28,-20.14,-34.4,-21.81,-19.19,-15.46,-18.26,-29.33,-19.89,-28.05,-25.2,-13.84,-30.69,-17.4,-30.72,-13.36,-23.89,-15.65,-17.94,-21.68,-11.64,-16.99,-18.07,-17.6,-23.56,-18.48,-16.31,-15.45,-23.95,-12.27,-22.12,-23.33,-30.09,-16.17,-21.98,-19.72,-23.78,-19.84,-13.36,-17.95,-18.56,-20.91,-18.56,-27.38,-21.85,-34.89,-15.24,-17.64,-33.03,-12.26,-26,-21.35,-17.97,-28.56,-27.75,-16.24,-22.14,-19.94,-17.14,-20.92,-23.92],[182.68,168.63,178.98,181,180.9,181.77,182.38,181.24,186.26,182.73,183.91,169.5,182.69,186.9,182.43,180.87,180.22,181.57,181.41,174.21,178.42,183.81,183.22,185.27,181.21,180.2,185.62,184.2,167.42,182.3,181.75,184.4,167.18,180.62,181.55,182.43,184.3,185.26,182.53,180.62,181.6,180.5,181.71,183.51,187.81,180.98,182.72,184.08,182.39,182.6,170.62,182.1,181.02,180.1,167.06,182.39,185.17,180.6,180.63,166.47,187,181.54,181.5,180.23,182.37,168.08,181.42,184.64,167.41,180.49,180.18,182.4,184.1,179.6,169.71,180.31,182.37,172.76,181.65,169.05,181.57,169.31,181.7,180.89,180.6,186.21,181.28,180.2,167,184.1,170.04,181.48,183.59,182.26,168.02,179.62,182.39,185.31,181.5,184.47],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"ctKey":["237","837","886","776","831","924","971","687","615","772","566","887","885","248","124","663","240","289","645","869","738","503","635","719","484","164","608","266","541","210","808","146","527","462","61","876","761","95","359","209","67","487","79","130","70","667","928","372","910","139","490","563","316","281","92","599","858","659","238","360","513","619","690","479","630","725","992","970","766","816","277","611","212","363","94","624","30","716","247","974","871","192","342","811","107","295","38","610","12","3","888","731","633","567","136","823","943","495","293","562"],"ctGroup":"SharedData553001be"}]}],"limits":{"lat":[-35.56,-11.64],"lng":[166.47,187.81]}},"evals":[],"jsHooks":[]}</script></p>
<p>Remember all this is happening <em>in the browser</em> and <em>without Shiny</em>. And all you need to do is give each of your widgets a ‘shared data’ object. So instead of this:</p>
<pre class="r"><code>data &lt;- readRDS(&quot;data/some_data.RDS&quot;)  # get data
datatable(data)  # interactive table
leaflet(data) %&gt;% addTiles() %&gt;% addMarkers()  # map</code></pre>
<p>We can just add one extra line to create the shared data object and pass that to our widgets instead:</p>
<pre class="r"><code>data &lt;- readRDS(&quot;data/some_data.RDS&quot;)
shared &lt;- SharedData$new(data)
datatable(shared)
leaflet(shared) %&gt;% addTiles() %&gt;% addMarkers()</code></pre>
</div>
<div id="slides" class="section level1">
<h1>Slides</h1>
<p>My task: I had to create an app for our users – policy makers – to explore schools data to inform a funding programme. My problem: I didn’t have a server for hosting such an app. In other words, <a href="https://shiny.rstudio.com/">Shiny</a> wasn’t really feasible in this case.</p>
<p>Below are my slides. Click it and hit your left and right arrow keys to navigate. Press ‘p’ to see the presenter notes.</p>
<iframe src="https://matt-dray.github.io/earl18-presentation/" width="672" height="400px">
</iframe>
<p>On GitHub you can find <a href="https://github.com/matt-dray/earl18-presentation">code for the presentation</a>, written in with <a href="https://bookdown.org/yihui/rmarkdown/xaringan.html">the <code>xaringan</code> package</a>, and <a href="https://github.com/matt-dray/earl18-crosstalk">code for the dummy examples in it</a>.</p>
</div>
<div id="memestravaganza" class="section level1">
<h1>Memestravaganza</h1>
<p>Since it’s 2018, the only way to publicise such a presentation is to exploit the power of <a href="https://knowyourmeme.com/memes/memes">memes</a> and social media; the only method for communicating with <a href="https://eu.usatoday.com/story/money/2017/05/22/avocado-latte-may-just-what-hipster-millennials-dreamed-maybe-not/102002538/">millenials</a> and <a href="https://i.kym-cdn.com/entries/icons/mobile/000/023/078/youngling.jpg">younglings</a> these days.</p>
<p>But why stop at one meme? Why not a <em>meme advent calendar</em> counting down the week in advance of the conference?<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<p>I’ve reproduced them here with a bit more context. If you’re on mobile you’ll see the rendered tweets. If on desktop, you’ll need to click the &lt;pic.twitter.com&gt; links in each one.<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a></p>
<div id="day-one" class="section level2">
<h2>Day one</h2>
{{% tweet "1037226196797415425" %}}
<p>Yeah, so I figured that Shiny was the only way to make interactive apps. But I had a problem: no server access for hosting the app. Crosstalk is worth considering in this instance because you can share outputs as HTML files, which will open in the user’s browser.</p>
</div>
<div id="day-two" class="section level2">
<h2>Day two</h2>
{{% tweet "1037597114874912769" %}}
<p>R users can probably recognise an interactive app made with Shiny<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a>. Probably a <a href="https://rmarkdown.rstudio.com/flexdashboard/">Flexdashboard</a> is easy to recognise too; these are typically used for non-interactive dashboard displays, but Crosstalk can be used to blur this line by making the elements interact with each other.</p>
</div>
<div id="day-three" class="section level2">
<h2>Day three</h2>
{{% tweet "1037951262766055424" %}}
<p>Self-explanatory, really. A small app can be made using Crosstalk and shared freely. Try it!</p>
</div>
<div id="day-four" class="section level2">
<h2>Day four</h2>
{{% tweet "1038306444045639680" %}}
<p>It’s 2018. You’ve got to exploit Trump for personal gain at some point. One potential drawback of Shiny is the need to host the app on a server. Not ideal if you don’t have acces to one. This is not a problem with Crosstalk-enabled tools, which you can share as HTML files.</p>
</div>
<div id="day-five" class="section level2">
<h2>Day five</h2>
{{% tweet "1038727929998598145" %}}
<p>Yeah, so there’s a false equivalency here. Crosstalk doesn’t necessarily help provide a direct replacement for Shiny. You still need Shiny to make ‘proper’ apps. But hey, the picture that the little girl has drawn still looks like a cat, right?</p>
<p>Since everything is rendered in-browser, you’re limited by your browser’s power. This means that the number of points on your interactive map, for example, is limited. In practice it’s maybe a couple of hundred. You can get around this by controlling point layers that can be switched on and off so fewer points are rendered at any one point But that’s a pain.</p>
</div>
<div id="day-six" class="section level2">
<h2>Day six</h2>
{{% tweet "1039034098214416384" %}}
<p>Let’s say you’ve read your data into the object <code>data</code>. Ordinarily you would do <code>leaflet::leaflet(data)</code>, <code>DT::datatable(data)</code>, etc, to create HTML widgets containing the data. To get the widgets to talk to each other with Crosstalk, you make a <em>shared data</em> object: <code>shared &lt;- SharedData$new(data)</code>. Now you can do <code>leaflet::leaflet(shared)</code>, <code>DT::datatable(shared)</code>, etc, to get widget interactivity. Only one extra line of code is needed.</p>
</div>
<div id="day-seven" class="section level2">
<h2>Day seven</h2>
{{% tweet "1039395576352329729" %}}
<p>Turns out I punked you: my talk is called ‘Crosstalk: Shiny-like without Shiny’ but <a href="http://rstudio.github.io/crosstalk/shiny.html">you can actually put Shiny in your Crosstalk</a>. Why? Your brushing and filtering with Crosstalk can be used to generate Shiny outputs and vice versa. For simplicity, my talk focuses only on Crosstalk.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Running joke: <em>Shiny without Shiny? Sounds like a <strong>dull</strong> talk lol.</em><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>Answer: because you have better things to do.<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>I’m not sure why the whole tweet – include the image – doesn’t render on desktop. I’ll investigate.<a href="#fnref3">↩</a></p></li>
<li id="fn4"><p>Yeah, but have you seen <a href="https://mbienz.shinyapps.io/tourism_dashboard_prod/">The New Zealand tourism dashboard</a>?<a href="#fnref4">↩</a></p></li>
</ol>
</div>
